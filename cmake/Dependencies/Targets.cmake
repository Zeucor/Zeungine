# setup target helper
function(zg_setup_target LIBRARY_NAME LIBRARY_PATH_NAME IMPLIB_PATH_NAME LIBRARY_TYPE LIB_PREFIX DLL_PREFIX STATIC_LIB_EXT PREPEND_LIB)
	add_library(${LIBRARY_NAME} ${LIBRARY_TYPE} IMPORTED)
	IF(PREPEND_LIB)
		SET(LIBRARY_PREFIX "lib")
	ELSE()
		SET(LIBRARY_PREFIX "")
	ENDIF()
	if(WINDOWS)
		if(${LIBRARY_TYPE} STREQUAL "STATIC")
			set(LIBRARY_LOCATION "${LIB_PREFIX}/${LIBRARY_PREFIX}${LIBRARY_PATH_NAME}.${STATIC_LIB_EXT}")
		elseif(${LIBRARY_TYPE} STREQUAL "SHARED")
			set(LIBRARY_LOCATION "${DLL_PREFIX}/${LIBRARY_PATH_NAME}.dll")
			set(IMPLIB_LOCATION "${LIB_PREFIX}/${IMPLIB_PATH_NAME}.lib")
			set_target_properties(${LIBRARY_NAME} PROPERTIES IMPORTED_IMPLIB ${IMPLIB_LOCATION})
		endif()
	else()
		if(${LIBRARY_TYPE} STREQUAL "STATIC")
			set(LIBRARY_LOCATION "${LIB_PREFIX}/${LIBRARY_PREFIX}${LIBRARY_PATH_NAME}.${STATIC_LIB_EXT}")
		elseif(${LIBRARY_TYPE} STREQUAL "SHARED")
			set(LIBRARY_LOCATION "${LIB_PREFIX}/${LIBRARY_PREFIX}${LIBRARY_PATH_NAME}.so")
		endif()
	endif()
	set_target_properties(${LIBRARY_NAME} PROPERTIES IMPORTED_LOCATION ${LIBRARY_LOCATION})
endfunction()
if(WINDOWS)
	set(DEFAULT_STATIC_LIB_EXT "lib")
	set(FFMPEG_STATIC_LIB_EXT "a")
else()
	set(DEFAULT_STATIC_LIB_EXT "a")
	set(FFMPEG_STATIC_LIB_EXT "a")
endif()
# zg_setup_target(avcodec avcodec "" STATIC ${ZG_LIB_INSTALL_PREFIX} ${ZG_LIB_INSTALL_PREFIX} ${FFMPEG_STATIC_LIB_EXT} ON)
# zg_setup_target(avdevice avdevice "" STATIC ${ZG_LIB_INSTALL_PREFIX} ${ZG_LIB_INSTALL_PREFIX} ${FFMPEG_STATIC_LIB_EXT} ON)
# zg_setup_target(avfilter avfilter "" STATIC ${ZG_LIB_INSTALL_PREFIX} ${ZG_LIB_INSTALL_PREFIX} ${FFMPEG_STATIC_LIB_EXT} ON)
# zg_setup_target(avformat avformat "" STATIC ${ZG_LIB_INSTALL_PREFIX} ${ZG_LIB_INSTALL_PREFIX} ${FFMPEG_STATIC_LIB_EXT} ON)
# zg_setup_target(avutil avutil "" STATIC ${ZG_LIB_INSTALL_PREFIX} ${ZG_LIB_INSTALL_PREFIX} ${FFMPEG_STATIC_LIB_EXT} ON)
# zg_setup_target(swresample swresample "" STATIC ${ZG_LIB_INSTALL_PREFIX} ${ZG_LIB_INSTALL_PREFIX} ${FFMPEG_STATIC_LIB_EXT} ON)
# zg_setup_target(swscale swscale "" STATIC ${ZG_LIB_INSTALL_PREFIX} ${ZG_LIB_INSTALL_PREFIX} ${FFMPEG_STATIC_LIB_EXT} ON)
